---
title: Box Subscription Creation on Shopify
source: https://developer.ordergroove.com/docs/box-subscription-creation-on-shopify
converted_from: html
---

# Box Subscription Creation on Shopify

## Ordergroove 101

*   [Developer Fundamentals](/docs/developer-fundamentals)
    *   [Systems Landscape Map](/docs/landscape-map)
    *   [Data model at a glance](/docs/data-model-at-a-glance)
    *   [Subscription Creation via Purchase POST](/docs/subscription-creation-via-purchase-post)
    *   [Recurring Order Placement](/docs/recurring-order-placement)
    *   [Subscription Manager Tagging and Authentication](/docs/subscription-manager-tagging-and-authentication)
    *   [Customer and Payment Updates](/docs/customer-and-payment-updates)
*   [General FAQ](/docs/general-faq)
*   [Install Ordergroove on an Online Store 2.0 theme](/docs/use-ordergroove-with-online-store-20)
    *   [Installing Ordergroove with App Embed](/docs/installing-ordergroove-with-app-embed)
*   [Custom Platform and Headless Subscription Implementation](/docs/integrating-with-a-custom-platform-1)

## Program Migration

*   [Migrate my data to Ordergroove](/docs/program-migration)
*   [Self-serve migration guide](/docs/view-self-serve-migration-guide)
*   [Self-serve migration guide for Recharge](/docs/self-serve-migration-guide-for-recharge)
*   [Staged Migrations](/docs/staged-migrations)

## Syncing Ordergroove Data

*   [Sync Ordergroove Data into Internal Systems](/docs/sync-ordergroove-data-into-internal-systems)
*   [Sync Objects](/docs/implement-custom-data-pipelines)
    *   [Implement Custom Data Pipelines](/docs/implement-custom-data-pipelines)
    *   [Using Prebuilt Connectors](/docs/using-prebuilt-connectors)
    *   [SFTP File Drops](/docs/sftp-file-drops)
*   [Sync Events](/docs/sync-events)

## Product Catalog

*   [Offer Tagging](/docs/offer-tagging)
*   [Product Feed](/docs/integrating-with-a-custom-platform)

## Subscription Enrollment

*   [Getting started](/docs/getting-started)
*   [First Order Place Date control for Shopify Merchants](/docs/first-order-place-date-control-for-shopify-merchants)
*   [Showing Discounted Price](/docs/showing-discounted-price-in-shopify)
*   [Customizing the Initial Offer Incentive (IOI)](/docs/customizing-the-initial-offer-incentive-ioi-using-shopify-scripts)
*   [Free shipping on initial orders](/docs/free-shipping-on-initial-orders-with-shopify-scripts)
*   [Cart Opt-In Tagging](/docs/shopify-cart-opt-in-tagging)
*   [Tagging the Product Details Page (PDP)](/docs/tagging-the-product-details-page-pdp)
*   [Real Time Stock Update](/docs/real-time-stock-update)
*   [Add a subscription to cart](/docs/modify-a-subscription-from-checkout-flow)
    *   [Offer Code Elements](/docs/offer-code-elements)
    *   [Domain Objects](/docs/domain-objects)
    *   [Helper Methods](/docs/helper-methods)
*   [Add a subscription offer to quickview, homepage, or other areas of your site](/docs/quickview-offers)
    *   [Tracking Affiliate Codes on Recurring Orders](/docs/tracking-affiliate-codes-on-recurring-orders)
*   [Troubleshooting Cart Offers](/docs/troubleshooting-cart-offers)
*   [Modify a subscription from email and SMS](/docs/modify-a-subscription-from-email-and-sms)
*   [Advanced Offer Customizations & FAQ](/docs/advanced-offer-customizations-faq)

## Subscription Manager Overview

*   [Subscription Manager From The Customer's Perspective](/docs/getting-started-1)
*   [Tour of Subscription Manager v25](/docs/tour-of-subscription-manager-v25)
    *   [Intro to v25 for Developers transitioning from v0](/docs/intro-to-v25-for-developers-transitioning-from-v0)
    *   [Customizing calendars and dates in v25](/docs/customizing-calendars-and-dates-in-v25)
    *   [Understanding Subscription Manager Custom Elements](/docs/understanding-subscription-manager-custom-elements)
*   [Subscription Manager File Descriptions](/docs/subscription-manager-file-descriptions)
*   [Subscription Manager v0 Components & Containers](/docs/subscription-manager-components-containers)
    *   [Subscription Manager Templates](/docs/subscription-manager-templates)
    *   [Orders Unsent Section](/docs/orders-unsent-section)
        *   [Skip Order](/docs/skip-order)
        *   [Send Now](/docs/send-now)
        *   [Change Date](/docs/change-date)
    *   [Orders Processing Section](/docs/orders-processing-section)
    *   [Inactive Subscriptions Section](/docs/inactive-subscriptions-section)
*   [Customize your Subscription Manager templates without breaking tracking](/docs/sm-template-customization-tracking)
*   [Subscription Manager Templates Changelog](/docs/subscription-manager-templates-changelog)

## Subscription Manager Modifications

*   [Subscription Manager Development Overview](/docs/subscription-manager-overview)
    *   [Edit Code with the Advanced Editor](/docs/edit-code-with-the-advanced-editor)
    *   [Subscription Manager Theme Editor Overview](/docs/subscription-manager-theme-editor-overview)
    *   [Subscription Manager Development Guide](/docs/subscription-manager-development-guide)
    *   [Customizing Subscription Manager Sections on Shopify](/docs/customizing-subscription-manager-sections-on-shopify)
    *   [Refreshing data in the Subscription Manager](/docs/refreshing-data-in-the-subscription-manager)
    *   [Objects](/docs/objects)
    *   [Object Reference](/docs/object-reference)
    *   [Translations](/docs/translations)
    *   [Subscription Manager Local Development](/docs/subscription-manager-local-development)
    *   [Debugging with Redux](/docs/debugging-with-redux)
    *   [Working with dates in the Subscription Manager](/docs/working-with-dates-in-the-subscription-manager)
*   [Modify the Change Billing Process Button](/docs/modify-the-change-billing-process-button)
*   [Implementing Country & State Dropdown in Subscription Manager Themes](/docs/implementing-country-state-dropdown-in-subscription-manager-themes)
*   [Adding a Cancel Button to Modals](/docs/adding-a-cancel-button-to-modals)
*   [Limiting Future Dates in the Change Date Calendar](/docs/limiting-future-dates-in-the-change-date-calendar)
*   [Dynamic Shipping Restrictions in the Subscription Manager](/docs/dynamic-shipping-restrictions-in-the-subscription-manager)
*   [One Time SKU Swap Configuration in the Subscription Manager](/docs/one-time-sku-swap-configuration-in-the-subscription-manager)
*   [Adding a Scrollbar to Inactive Subscriptions in the Subscription Manager](/docs/adding-a-scrollbar-to-inactive-subscriptions-in-the-subscription-manager)
*   [Enabling Payment Updates for Shopify New Accounts](/docs/enabling-payment-updates-for-shopify-new-accounts)

## Subscription Manager Development with APIs

*   [Calling Ordergroove’s REST APIs from within Subscription Manager](/docs/call-rest-apis-from-within-subscription-manager)
*   [Integrating External APIs in the Subscription Manager](/docs/integrating-external-apis-in-the-subscription-manager)

## Tagging Subscription Manager

*   [Tagging the Subscription Manager](/docs/tagging-the-subscription-manager-on-shopify)
*   [Convert your customers/account page to support Online Store 2.0](/docs/convert-your-customersaccount-page-to-support-online-store-20)

## Upsell and 1-Click

*   [Instant Upsell Overview](/docs/getting-started-2)
    *   [Instant Upsell through API](/docs/add-a-one-time-item-to-an-upcoming-order)
*   [1-Click Actions in Emails](/docs/1-click-actions-in-emails)

## Subscription Types

*   [Bundle Subscriptions](/docs/bundle-subscriptions)
    *   [Configuring Bundles](/docs/configuring-bundles)
    *   [Box Subscription Creation on Shopify](/docs/box-subscription-creation-on-shopify)
    *   [Bundle API Components](/docs/bundle-api-components)
    *   [Build Your Own Box Subscriptions (Legacy)](/docs/build-your-own-box-subscriptions)
        *   [Shopify - Build Your Own Box Subscriptions (Legacy)](/docs/build-your-own-box-subscriptions-on-shopify)
*   [Guided Selling](/docs/guided-selling)
*   [Curation Subscriptions: Rotating Box or Club](/docs/curation-subscriptions-rotating-box-or-club)
*   [Prepaid Subscriptions](/docs/how-to-manage-prepaid-renewal-behaviors)
    *   [How to Manage Prepaid Renewal Behaviors](/docs/how-to-manage-prepaid-renewal-behaviors)
*   [Rotating Subscriptions](/docs/rotating-subscriptions)
    *   [Ordinal Based Rotating Products](/docs/ordinal-based-rotating-products)
    *   [Time Window Based Rotating Products](/docs/time-window-based-rotating-products)
*   [Digital Subscriptions](/docs/digital-subscriptions)

## program data

*   [Configuring PayPal](/docs/configuring-paypal)
*   [Removing Ordergroove code from your Shopify theme](/docs/removing-ordergroove-code-from-your-shopify-theme)
*   [Webhooks overview (Legacy)](/docs/via-webhooks)
    *   [Configure Webhooks via API](/docs/configure-webhooks-via-api)
    *   [Expiring or Termed Subscriptions Using Webhooks](/docs/expiring-or-termed-subscriptions-using-webhooks)
*   [HMAC and AES Authentication](/docs/hmac-and-aes-authentication)

# Box Subscription Creation on Shopify

[Suggest Edits](/edit/box-subscription-creation-on-shopify)

By default, Ordergroove will create a **separate subscription** for each line-item in a Shopify checkout that has been associated with a selling-plan.

If you would like Ordergroove to **bundle** multiple line-items in a checkout into a single bundled subscription, you can include a property at the line-item level that we will use to determine which line-items are meant to be grouped together.

The property you need to provide at the line-item level is:

`__og_parent_product_id`: the variant id of the “parent product” you would like the line items to be bundled beneath.

* * *

## 

Requirements

[](#requirements)

*   The _parent product_ does not need to be present in the cart as a line-item itself, **but it must be a real product variant that exists in your shopify store**. The subscription that is created in Ordergroove will reference this _parent product_ at the top-level of the subscription for tracking and data-integrity purposes.
*   You must still add the required selling-plan id to each line item you want included in the bundle.
*   There should only be a single line-item in the cart for a given product variant that references a given `__og_parent_product_id`. You should not create carts that have multiple line items for the same product that reference the same `__og_parent_product_id`. For example, the following example of the cart structure **would not** be permitted:

`[...,{ 	variant: 12345, 	__og_parent_product_id: 56789 	quantity: 1 },{ 	variant: 12345, 	__og_parent_product_id: 56789 quantity: 1 },...]`

This should instead be represented as:

`[...,{ 	variant: 12345, 	__og_parent_product_id: 56789 	quantity: 2 },...]`

Here is an example of what the input for this attribute would look like on a product-form that is adding products to the customer's cart:

![](https://files.readme.io/acd7623-image1.png)

You can also consult shopify’s [cart reference documentation](https://shopify.dev/docs/api/ajax/reference/cart) for information on how this property can be added via API.

Each line-item that has this `__og_parent_product_id` set to the same variant id will be bundled into a single subscription in Ordergroove’s system after the customer checks out. For example, take a look at this shopify order:

![](https://files.readme.io/7a58b1b-cat_food_CLEAN.png)

Notice both the _Tuna Cat Food_ and _Chicken Cat Food_ product have the `__og_parent_product_id` set to the same variant id. This will cause Ordergroove to create a single subscription that encapsulates both products, and the product set on the subscription itself will be the product variant specified by the \_\_og\_parent\_product\_id attribute.

Alternatively, if you would like to create multiple different bundles during the same checkout experience, you should assign the to the \_\_og\_parent\_product\_id attribute the id of the parent product concatenated with the separator symbol “:” (quotes just to differentiate it from the rest of the text) and with a unique key that must be the same for all the products that are supposed to be under the same bundle.

For example, let’s imagine that we have the parent product of id 1 and 4 products with ids from 2 to 5. In the case where we want 2 different bundles with products {2, 3} and {4, 5} in it respectively and both using the same parent product, the following needs to be configured:

*   {2, 3}: \_\_og\_parent\_product\_id = ‘1:bundle\_1’
*   {4, 5}: \_\_og\_parent\_product\_id = ‘1:bundle\_2’

* * *

## 

Overriding item quantity

[](#overriding-item-quantity)

By default, when we create a bundle subscription the amount of items in the cart for a bundle item will match the bundle subscription item created in Ordergroove. You can override the quantity of bundle items that will be created for the subscription by sending the `__og_subscription_bundle_item_quantity` on the properties of the item.

Here is an example of what the input for this property would look like on a product-form that is adding products to the customer’s cart:

`<input type="hidden" name="properties[__og_subscription_bundle_item_quantity]" value="10">`

Checking out with an item of quantity 3 but 10 as the overridden quantity in the property will create a bundle subscription on Ordergroove that will ship 10 items instead of the 3 initial ones sent on the checkout order.

* * *

## 

Cart checkout examples

[](#cart-checkout-examples)

### 

Single bundle

[](#single-bundle)

Checking out with these items with these line item properties on Shopify:

Item

Quantity

Properties in the item

Banana

10

name="properties\[\_\_og\_parent\_product\_id\]" value="{fruit\_box\_id}"

Orange Juice

1

name="properties\[\_\_og\_parent\_product\_id\]" value="{fruit\_box\_id}"

Apple

5

name="properties\[\_\_og\_parent\_product\_id\]" value="{fruit\_box\_id}"

Will create this bundle in Ordergroove:

**Single Bundle**

Subscription parent product

Item

Quantity

fruit\_box\_id

Banana

10

fruit\_box\_id

Orange Juice

1

fruit\_box\_id

Apple

5

### 

Multiple bundles

[](#multiple-bundles)

Checking out with this items with these line item properties on Shopify:

Item

Quantity

Properties in the item

Banana

10

name="properties\[\_\_og\_parent\_product\_id\]" value="{fruit\_box\_id:bundle1}"

Orange Juice

1

name="properties\[\_\_og\_parent\_product\_id\]" value="{fruit\_box\_id:bundle1}"

Apple

5

name="properties\[\_\_og\_parent\_product\_id\]" value="{fruit\_box\_id:bundle1}"

Strawberry

2

name="properties\[\_\_og\_parent\_product\_id\]" value="{fruit\_box\_id:bundle2}"

Grape

3

name="properties\[\_\_og\_parent\_product\_id\]" value="{fruit\_box\_id:bundle2}"

Watermelon

1

name="properties\[\_\_og\_parent\_product\_id\]" value="{fruit\_box\_id:bundle2}"

Will create these two bundles in Ordergroove:

**Bundle 1**

Subscription parent product

Item

Quantity

fruit\_box\_id

Banana

10

fruit\_box\_id

Orange Juice

1

fruit\_box\_id

Apple

5

**Bundle 2**

Subscription parent product

Item

Quantity

fruit\_box\_id

Strawberry

2

fruit\_box\_id

Grape

3

fruit\_box\_id

Watermelon

1

* * *

## 

Overriding item quantity

[](#overriding-item-quantity-1)

Here is an example of how this override works. When we add these properties to each of them, we will have the quantity overridden for the subscription created in Ordergroove for every item that has both the `__og_parent_product_id` and `__og_subscription_bundle_item_quantity` properties set.

Item

Quantity

Properties in the item

Quantity of items on checkout order

Quantity for bundle item created in the subscription for future orders

Banana

10

name="properties\[\_\_og\_subscription\_bundle\_item\_quantity\]" value="5"  
name="properties\[\_\_og\_parent\_product\_id\]" value="{bundle\_product\_id}"

10

5

Orange Juice

2

name="properties\[\_\_og\_parent\_product\_id\]" value="{bundle\_product\_id}"

2

2

Apple

5

name="properties\[\_\_og\_subscription\_bundle\_item\_quantity\]" value="10"  
name="properties\[\_\_og\_parent\_product\_id\]" value="{bundle\_product\_id}"

5

10

## 

Product Subscription Swap

[](#product-subscription-swap)

The Component Product Swap allows a customer to checkout with one product, but subscribe to another. To do so, you will need to set the `__og_parent_product_id` and `__og_subscription_bundle_item_product_swap` properties. The `__og_subscription_bundle_item_product_swap` should be set to the product id of the product that you would like to use for the subscription. You cannot swap to a bundle type product. For example:

Checkout Item

Properties in the item

Checkout Order Items

Future Subscription Items

Banana

name="properties\[\_\_og\_subscription\_bundle\_item\_product\_swap\]" value="{orange\_juice\_id}"  
name="properties\[\_\_og\_parent\_product\_id\]" value="{bundle\_product\_id}"

Banana

Orange Juice

## 

Adding Additional Bundle Items

[](#adding-additional-bundle-items)

The `__og_subscription_bundle_item_additions` attribute allows a customer to checkout with one product, but subscribe to multiple products. To do so, you will need to set the `__og_parent_product_id` and `__og_subscription_bundle_item_additions` properties. The `__og_subscription_bundle_item_additions` should be a **stringified** JSON blob consisting of an array of objects, with each object containing two key-value pairs - one for the new product and one for its quantity.

Input Format:

*   `__og_parent_product_id`: Set this to the Parent Product ID.
*   `__og_subscription_bundle_item_additions`: This should be a stringified JSON blob, where each object represents a new product to be added to the subscription bundle, along with it's quantity. Each object in the array should contain two key-value pairs, like this `{"product": "<product_id>", "quantity": <quantity>}`. Note that any additional products cannot be a bundle type.

For example:

Checkout Item

Properties in the item

Checkout Order Items

Future Subscription Items

Banana

name="properties\[\_\_og\_subscription\_bundle\_item\_addit  
ions\]" value='\[  
{  
"product':"{orange\_juice\_id}",  
"quantity":1  
},  
{  
"product":"{exquisite\_apple\_id}",  
"quantity":2  
}  
\]'  
name="properties\[\_\_og\_parent\_product\_id\]" value="{bundle\_product\_id}"

Banana

Banana  
Orange Juice  
Exquisite Apple

## 

Using Multiple Attributes

[](#using-multiple-attributes)

Attributes can be combined for increased customization. Here are a few examples:

Scenario

Checkout Item

Properties in the item

Checkout Order Items & Quantity

Future Subscription Items & Quantity

**Quantity Override and Product Swap**

Banana

name="properties\[\_\_og\_subscription\_bundle\_item\_quantity\]" value="5"  
name="properties\[\_\_og\_subscription\_bundle\_item\_product\_swap\]" value="{orange\_juice\_id}"  
name="properties\[\_\_og\_parent\_product\_id\]"  
value="{bundle\_product\_id}"

Banana - 1

Orange Juice - 5

**Product Swap and Additional Items**

Banana

name="properties\[\_\_og\_subscription\_bundle\_item\_product\_swap\]" value="{orange\_juice\_id}"  
name="properties\[\_\_og\_subscription\_bundle\_item\_additions\]" value='\[{"product": "{grape\_juice\_id}", "quantity": 1}, {"product": "{exquisite\_apple\_id}", "quantity": 2}\]'  
name="properties\[\_\_og\_parent\_product\_id\]"  
value="{bundle\_product\_id}"

Banana - 1

Orange Juice - 1  
Grape Juice - 1  
Exquisite Apple - 2

**Quantity Override, Product Swap, and Additional Items**

Banana

name="properties\[\_\_og\_subscription\_bundle\_item\_quantity\]" value="5"  
name="properties\[\_\_og\_subscription\_bundle\_item\_product\_swap\]" value="{grape\_juice\_id}"  
name="properties\[\_\_og\_subscription\_bundle\_item\_additions\]" value='\[{"product": "{orange\_juice\_id}", "quantity": 1}, {"product": "{exquisite\_apple\_id}", "quantity": 2}\]'  
name="properties\[\_\_og\_parent\_product\_id\]"  
value="{bundle\_product\_id}"

Banana - 1

Grape Juice - 5  
Orange Juice - 1  
Exquisite Apple - 2

Updated 7 months ago

* * *

*   [Table of Contents](#)
*   *   [Requirements](#requirements)
    *   [Overriding item quantity](#overriding-item-quantity)
    *   [Cart checkout examples](#cart-checkout-examples)
        *   [Single bundle](#single-bundle)
        *   [Multiple bundles](#multiple-bundles)
    *   [Overriding item quantity](#overriding-item-quantity-1)
    *   [Product Subscription Swap](#product-subscription-swap)
    *   [Adding Additional Bundle Items](#adding-additional-bundle-items)
    *   [Using Multiple Attributes](#using-multiple-attributes)
