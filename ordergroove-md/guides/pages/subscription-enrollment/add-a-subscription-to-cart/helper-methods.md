---
title: Helper Methods
source: https://developer.ordergroove.com/docs/helper-methods
converted_from: html
---

# Helper Methods

## Ordergroove 101

*   [Developer Fundamentals](/docs/developer-fundamentals)
    *   [Systems Landscape Map](/docs/landscape-map)
    *   [Data model at a glance](/docs/data-model-at-a-glance)
    *   [Subscription Creation via Purchase POST](/docs/subscription-creation-via-purchase-post)
    *   [Recurring Order Placement](/docs/recurring-order-placement)
    *   [Subscription Manager Tagging and Authentication](/docs/subscription-manager-tagging-and-authentication)
    *   [Customer and Payment Updates](/docs/customer-and-payment-updates)
*   [General FAQ](/docs/general-faq)
*   [Install Ordergroove on an Online Store 2.0 theme](/docs/use-ordergroove-with-online-store-20)
    *   [Installing Ordergroove with App Embed](/docs/installing-ordergroove-with-app-embed)
*   [Custom Platform and Headless Subscription Implementation](/docs/integrating-with-a-custom-platform-1)

## Program Migration

*   [Migrate my data to Ordergroove](/docs/program-migration)
*   [Self-serve migration guide](/docs/view-self-serve-migration-guide)
*   [Self-serve migration guide for Recharge](/docs/self-serve-migration-guide-for-recharge)
*   [Staged Migrations](/docs/staged-migrations)

## Syncing Ordergroove Data

*   [Sync Ordergroove Data into Internal Systems](/docs/sync-ordergroove-data-into-internal-systems)
*   [Sync Objects](/docs/implement-custom-data-pipelines)
    *   [Implement Custom Data Pipelines](/docs/implement-custom-data-pipelines)
    *   [Using Prebuilt Connectors](/docs/using-prebuilt-connectors)
    *   [SFTP File Drops](/docs/sftp-file-drops)
*   [Sync Events](/docs/sync-events)

## Product Catalog

*   [Offer Tagging](/docs/offer-tagging)
*   [Product Feed](/docs/integrating-with-a-custom-platform)

## Subscription Enrollment

*   [Getting started](/docs/getting-started)
*   [First Order Place Date control for Shopify Merchants](/docs/first-order-place-date-control-for-shopify-merchants)
*   [Showing Discounted Price](/docs/showing-discounted-price-in-shopify)
*   [Customizing the Initial Offer Incentive (IOI)](/docs/customizing-the-initial-offer-incentive-ioi-using-shopify-scripts)
*   [Free shipping on initial orders](/docs/free-shipping-on-initial-orders-with-shopify-scripts)
*   [Cart Opt-In Tagging](/docs/shopify-cart-opt-in-tagging)
*   [Tagging the Product Details Page (PDP)](/docs/tagging-the-product-details-page-pdp)
*   [Real Time Stock Update](/docs/real-time-stock-update)
*   [Add a subscription to cart](/docs/modify-a-subscription-from-checkout-flow)
    *   [Offer Code Elements](/docs/offer-code-elements)
    *   [Domain Objects](/docs/domain-objects)
    *   [Helper Methods](/docs/helper-methods)
*   [Add a subscription offer to quickview, homepage, or other areas of your site](/docs/quickview-offers)
    *   [Tracking Affiliate Codes on Recurring Orders](/docs/tracking-affiliate-codes-on-recurring-orders)
*   [Troubleshooting Cart Offers](/docs/troubleshooting-cart-offers)
*   [Modify a subscription from email and SMS](/docs/modify-a-subscription-from-email-and-sms)
*   [Advanced Offer Customizations & FAQ](/docs/advanced-offer-customizations-faq)

## Subscription Manager Overview

*   [Subscription Manager From The Customer's Perspective](/docs/getting-started-1)
*   [Tour of Subscription Manager v25](/docs/tour-of-subscription-manager-v25)
    *   [Intro to v25 for Developers transitioning from v0](/docs/intro-to-v25-for-developers-transitioning-from-v0)
    *   [Customizing calendars and dates in v25](/docs/customizing-calendars-and-dates-in-v25)
    *   [Understanding Subscription Manager Custom Elements](/docs/understanding-subscription-manager-custom-elements)
*   [Subscription Manager File Descriptions](/docs/subscription-manager-file-descriptions)
*   [Subscription Manager v0 Components & Containers](/docs/subscription-manager-components-containers)
    *   [Subscription Manager Templates](/docs/subscription-manager-templates)
    *   [Orders Unsent Section](/docs/orders-unsent-section)
        *   [Skip Order](/docs/skip-order)
        *   [Send Now](/docs/send-now)
        *   [Change Date](/docs/change-date)
    *   [Orders Processing Section](/docs/orders-processing-section)
    *   [Inactive Subscriptions Section](/docs/inactive-subscriptions-section)
*   [Customize your Subscription Manager templates without breaking tracking](/docs/sm-template-customization-tracking)
*   [Subscription Manager Templates Changelog](/docs/subscription-manager-templates-changelog)

## Subscription Manager Modifications

*   [Subscription Manager Development Overview](/docs/subscription-manager-overview)
    *   [Edit Code with the Advanced Editor](/docs/edit-code-with-the-advanced-editor)
    *   [Subscription Manager Theme Editor Overview](/docs/subscription-manager-theme-editor-overview)
    *   [Subscription Manager Development Guide](/docs/subscription-manager-development-guide)
    *   [Customizing Subscription Manager Sections on Shopify](/docs/customizing-subscription-manager-sections-on-shopify)
    *   [Refreshing data in the Subscription Manager](/docs/refreshing-data-in-the-subscription-manager)
    *   [Objects](/docs/objects)
    *   [Object Reference](/docs/object-reference)
    *   [Translations](/docs/translations)
    *   [Subscription Manager Local Development](/docs/subscription-manager-local-development)
    *   [Debugging with Redux](/docs/debugging-with-redux)
    *   [Working with dates in the Subscription Manager](/docs/working-with-dates-in-the-subscription-manager)
*   [Modify the Change Billing Process Button](/docs/modify-the-change-billing-process-button)
*   [Implementing Country & State Dropdown in Subscription Manager Themes](/docs/implementing-country-state-dropdown-in-subscription-manager-themes)
*   [Adding a Cancel Button to Modals](/docs/adding-a-cancel-button-to-modals)
*   [Limiting Future Dates in the Change Date Calendar](/docs/limiting-future-dates-in-the-change-date-calendar)
*   [Dynamic Shipping Restrictions in the Subscription Manager](/docs/dynamic-shipping-restrictions-in-the-subscription-manager)
*   [One Time SKU Swap Configuration in the Subscription Manager](/docs/one-time-sku-swap-configuration-in-the-subscription-manager)
*   [Adding a Scrollbar to Inactive Subscriptions in the Subscription Manager](/docs/adding-a-scrollbar-to-inactive-subscriptions-in-the-subscription-manager)
*   [Enabling Payment Updates for Shopify New Accounts](/docs/enabling-payment-updates-for-shopify-new-accounts)

## Subscription Manager Development with APIs

*   [Calling Ordergrooveâ€™s REST APIs from within Subscription Manager](/docs/call-rest-apis-from-within-subscription-manager)
*   [Integrating External APIs in the Subscription Manager](/docs/integrating-external-apis-in-the-subscription-manager)

## Tagging Subscription Manager

*   [Tagging the Subscription Manager](/docs/tagging-the-subscription-manager-on-shopify)
*   [Convert your customers/account page to support Online Store 2.0](/docs/convert-your-customersaccount-page-to-support-online-store-20)

## Upsell and 1-Click

*   [Instant Upsell Overview](/docs/getting-started-2)
    *   [Instant Upsell through API](/docs/add-a-one-time-item-to-an-upcoming-order)
*   [1-Click Actions in Emails](/docs/1-click-actions-in-emails)

## Subscription Types

*   [Bundle Subscriptions](/docs/bundle-subscriptions)
    *   [Configuring Bundles](/docs/configuring-bundles)
    *   [Box Subscription Creation on Shopify](/docs/box-subscription-creation-on-shopify)
    *   [Bundle API Components](/docs/bundle-api-components)
    *   [Build Your Own Box Subscriptions (Legacy)](/docs/build-your-own-box-subscriptions)
        *   [Shopify - Build Your Own Box Subscriptions (Legacy)](/docs/build-your-own-box-subscriptions-on-shopify)
*   [Guided Selling](/docs/guided-selling)
*   [Curation Subscriptions: Rotating Box or Club](/docs/curation-subscriptions-rotating-box-or-club)
*   [Prepaid Subscriptions](/docs/how-to-manage-prepaid-renewal-behaviors)
    *   [How to Manage Prepaid Renewal Behaviors](/docs/how-to-manage-prepaid-renewal-behaviors)
*   [Rotating Subscriptions](/docs/rotating-subscriptions)
    *   [Ordinal Based Rotating Products](/docs/ordinal-based-rotating-products)
    *   [Time Window Based Rotating Products](/docs/time-window-based-rotating-products)
*   [Digital Subscriptions](/docs/digital-subscriptions)

## program data

*   [Configuring PayPal](/docs/configuring-paypal)
*   [Removing Ordergroove code from your Shopify theme](/docs/removing-ordergroove-code-from-your-shopify-theme)
*   [Webhooks overview (Legacy)](/docs/via-webhooks)
    *   [Configure Webhooks via API](/docs/configure-webhooks-via-api)
    *   [Expiring or Termed Subscriptions Using Webhooks](/docs/expiring-or-termed-subscriptions-using-webhooks)
*   [HMAC and AES Authentication](/docs/hmac-and-aes-authentication)

# Helper Methods

[Suggest Edits](/edit/helper-methods)

Ordergroove's offers library registers a global variable, og.offers, that contains a number of useful helper methods.

* * *

## 

addOptinChangedCallback

[](#addoptinchangedcallback)

Registers a callback function that is invoked when a user either opts in or opts out of a product offer. This method returns an object as offers module to chain method calls.

### 

Arguments

[](#arguments)

Argument

Description

callbackFn

A function to be called when optin status has been changed. The argument passed to the callback is an object containing the properties productId, components, and optedIn.

Example callback argument

`{ productId: 'a123', components: [ 'a', 'b' ], optedIn: true }`

### 

Node/Webpack

[](#nodewebpack)

Example

`import { addOptinChangedCallback } from '@ordergroove/offers';  function onOptinChanged({ productId, components, optedIn }) {}; addOptinChangedCallback(onOptinChanged);`

* * *

## 

clear

[](#clear)

Clears the options from the browser's local storage. This method should be called upon successful checkout.

UMD

`og.offers.clear();`

* * *

## 

config

[](#config)

Configures the library options for advanced usage or customization. This method returns an object as offers module to chain method calls.

### 

Arguments

[](#arguments-1)

Argument

Description

configObject

A JSON object containing configuration properties

### 

configObject JSON Schema

[](#configobject-json-schema)

JSON

`{   "type": "object",   "properties": {     "frequencies": {       "title": "Available frequencies",       "type": "array",       "items": {         "$ref": "#/definitions/Frequency"       },       "default": [         {           "every": 1,           "period": 2         },         {           "every": 2,           "period": 2         },         {}       ],       "uniqueItems": true,       "minItems": 1,       "maxItems": 99     },     "defaultFrequency": {       "title": "Default frequency selection",       "$ref": "#/definitions/Frequency"     },     "offerType": {       "title": "Type",       "type": "string",       "enum": ["radio", "toggle", "select"],       "enumNames": ["Radio Button", "Toggle Button", "Select Dropdown"],       "default": "radio"     }   },   "required": ["frequencies", "defaultFrequency", "offerType"] }`

### 

Node/Webpack and UMD

[](#nodewebpack-and-umd)

NodeUMD

`import { config } from '@ordergroove/offers';  config({   frequencies: [     {       every: 3,       period: 2     },     {       every: 2,       period: 2     }   ],   defaultFrequency: {     every: 2,     period: 2   },   offerType: 'radio' });`

`og.offers('0e5de2bedc5e11e3a2e4bc764e106cf4', 'staging', '/auth').config({   frequencies: [     {       every: 3,       period: 2     },     {       every: 2,       period: 2     }   ],   defaultFrequency: {     every: 2,     period: 2   },   offerType: 'radio' });`

* * *

## 

disableOptinChangedCallbacks

[](#disableoptinchangedcallbacks)

Disables all callback functions registered via addOptinChangedCallback.

NodeUMD

`import { disableOptinChangedCallbacks } from '@ordergroove/offers';  disableOptinChangedCallbacks();`

`og.offers(...).addOptinChangedCallback(() => {});`

* * *

## 

getOptins

[](#getoptins)

Returns a serialized representation of the products that have been opted in to by the customer. The return value is in the format expected by Ordergroove's Purchase POST endpoint, which is called during checkout. The sole argument, `productIds`, is an optional array of product IDs for which to return the serialized optins. If the argument is not supplied, all optins will be returned.

Please note that getOptins is meant to represent the customer's actions of opting in, rather than the state of whether a customer is subscribed. In the case of a product which is "Default to Subscription", the product will not appear as "opted in" with getOptins unless the customer has also clicked the "opt in" button.

### 

Arguments

[](#arguments-2)

Argument

Description

productIds

Optional array of product IDs for which to return the serialized optins. If not supplied, all optins will be returned.

### 

UMD

[](#umd)

Multiple ProductsSingle Product

`const result = og.offers.getOptins(); console.log(result);  /** [   {     product: '123',     subscription_info: {       components: []     },     tracking_override: {       offer: 'offerId1',       every: 2,       every_period: 1,       session_id: 'sessionId'     }   },   {     product: '456',     subscription_info: {       components: ['a', 'b', 'c']     },     tracking_override: {       offer: 'offerId2',       every: 3,       every_period: 1,       session_id: 'sessionId'     }   } ]; **/`

`const result = og.offers.getOptins(['123']); console.log(result);  /** [   {     product: '123',     subscription_info: {       components: []     },     tracking_override: {       offer: 'offerId1',       every: 2,       every_period: 1,       session_id: 'sessionId'     }   } ] **/`

* * *

## 

initialize

[](#initialize)

To initialize the library you need to call initialize method or shortcut in UMD og.offers. This method returns an object as offers module to chain method calls.

### 

Arguments

[](#arguments-3)

Argument

Description

merchantId

Your merchant public id

environment

staging or production

authUrl

The auth url endpoint to resolve customer level auth. Can be json or any response that set-cookie header.

### 

Node/Webpack and UMD

[](#nodewebpack-and-umd-1)

NodeUMD

`import { initialize } from '@ordergroove/offers';  initialize('0e5de2bedc5e11e3a2e4bc764e106cf4', 'staging', '/auth');`

`og.offers('0e5de2bedc5e11e3a2e4bc764e106cf4', 'staging', '/auth');`

* * *

## 

setLocale

[](#setlocale)

Configures the library locale text copies. This method returns an object as offers module to chain method calls.

Property

Type

Description

Default

defaultFrequencyCopy

String

Default frequency copy

Recommended

frequencyPeriods

Object

Frequency period names

`{1:"days",2:"weeks",3:"months"}`

offerEveryLabel

String

Subscribe frequency label

Ships Every:

offerOptInLabel

String

Subscribe option copy

Subscribe and get 20% off

offerOptOutLabel

String

Subscribe option copy

One-time

offerTooltipContent

String

Tool tip copy

Subscribe to this product and have it conveniently delivered to you at the frequency you choose! Read the FAQ here. Promotion subject to change

offerTooltipTrigger

String

Tool tip link copy

More info

showTooltip

Boolean

Display a tooptip

false

### 

Node/Webpack and UMD

[](#nodewebpack-and-umd-2)

NodeUMD

`import { setLocale } from '@ordergroove/offers';  setLocale({   defaultFrequencyCopy: 'Recommended',   offerOptInLabel: 'Save Lots and Lots of Money',   offerEveryLabel: 'Ships Every: ',   offerOptOutLabel: "Don't save money",   showTooltip: !0,   offerTooltipTrigger: 'More info',   offerTooltipContent:     'Subscribe to this product and have it conveniently delivered to you at the frequency you choose! Read the FAQ here. Promotion subject to change.',   upsellButtonLabel: 'Add to upcoming subscription order and receive 20% off',   upsellButtonContent: 'Add to Next Order on ',   upsellModalContent:     'Subscribe to this product and have it conveniently delivered to you at the frequency you choose! Read the FAQ here. Promotion subject to change.',   upsellModalOptOutLabel: 'Get one-time',   upsellModalOptInLabel: 'Subscribe and get 10% off on every order',   upsellModalConfirmLabel: 'Add',   frequencyPeriods: {     1: 'days',     2: 'weeks',     3: 'months'   } });`

`og.offers(...).config(...).setLocale({   ... });`

Updated 8 months ago

* * *

*   [Table of Contents](#)
*   *   [addOptinChangedCallback](#addoptinchangedcallback)
        *   [Arguments](#arguments)
        *   [Node/Webpack](#nodewebpack)
    *   [clear](#clear)
    *   [config](#config)
        *   [Arguments](#arguments-1)
        *   [configObject JSON Schema](#configobject-json-schema)
        *   [Node/Webpack and UMD](#nodewebpack-and-umd)
    *   [disableOptinChangedCallbacks](#disableoptinchangedcallbacks)
    *   [getOptins](#getoptins)
        *   [Arguments](#arguments-2)
        *   [UMD](#umd)
    *   [initialize](#initialize)
        *   [Arguments](#arguments-3)
        *   [Node/Webpack and UMD](#nodewebpack-and-umd-1)
    *   [setLocale](#setlocale)
        *   [Node/Webpack and UMD](#nodewebpack-and-umd-2)
